{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,WAAYF,SAASC,cAAc,wBACnCE,aAAcH,SAASC,cAAc,4BAGvCH,EAAKC,KAAKK,iBAAiB,SAAS,EAAAR,EAAAS,WAmBP,SAAPC,GACM,UAAtBA,EAAMC,OAAOC,OACfC,EAASC,MAAQJ,EAAMC,OAAOI,OAEN,YAAtBL,EAAMC,OAAOC,OACfC,EAASG,QAAUN,EAAMC,OAAOI,QAElC,EAAAE,EAAAC,aAAY,sBAAuBL,E,GA1BsB,MAC3DX,EAAKC,KAAKK,iBAAiB,UA6BsB,SAA1BE,GACrB,IAAMI,EAAQZ,EAAKI,WAAWS,MACxBC,EAAUd,EAAKK,aAAaQ,MAClCL,EAAMS,iBACQ,KAAVL,GAA4B,KAAZE,EAClBI,MAAM,8BAENC,QAAQC,IAAI,CAAER,QAAOE,YACrBd,EAAKC,KAAKoB,QACVC,aAAaC,WAAW,uB,IAnCQC,OAA7BlB,iBAAiB,QAAQ,WAC9B,IAAK,EAAAS,EAAAU,aAAY,wBAGV,IAAI,EAAAV,EAAAU,aAAY,uBAAwB,CAC7C,IAA2BC,GAAA,EAAAX,EAAAU,aAAY,uBAA/Bb,EAAmBc,EAAnBd,MAAOE,EAAYY,EAAZZ,QACfd,EAAKI,WAAWS,MAAQD,EACxBZ,EAAKK,aAAaQ,MAAQC,C,OAL1BK,QAAQC,IAAI,0BACZ,EAAAL,EAAAC,aAAY,sBAAuB,CAAEJ,MAAO,GAAIE,QAAS,I,IASvC,IAAhBH,GAAW,EAAAI,EAAAU,aAAY,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { debounce, throttle } from 'lodash';\nimport { saveStorage, loadStorage } from './helpers/storage.js';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  inputEmail: document.querySelector('.feedback-form input'),\n  inputMessage: document.querySelector('.feedback-form textarea'),\n};\n\nrefs.form.addEventListener('input', throttle(handlerInput, 500));\nrefs.form.addEventListener('submit', handlerSubmit);\n\n//заповенення форми при завантаженні вікна\nwindow.addEventListener('load', function () {\n  if (!loadStorage('feedback-form-state')) {\n    console.log('need create localStor');\n    saveStorage('feedback-form-state', { email: '', message: '' });\n  } else if (loadStorage('feedback-form-state')) {\n    const { email, message } = loadStorage('feedback-form-state');\n    refs.inputEmail.value = email;\n    refs.inputMessage.value = message;\n  }\n});\n\n//збереження даних з localeStorage в зміну\nconst userData = loadStorage('feedback-form-state');\n\n// збереження даних з форми в сховище\nfunction handlerInput(event) {\n  if (event.target.name === 'email') {\n    userData.email = event.target.value;\n  }\n  if (event.target.name === 'message') {\n    userData.message = event.target.value;\n  }\n  saveStorage('feedback-form-state', userData);\n}\n\n// виведення даних з форми в консоль, очистка сховища та форми\nfunction handlerSubmit(event) {\n  const email = refs.inputEmail.value;\n  const message = refs.inputMessage.value;\n  event.preventDefault();\n  if (email === '' || message === '') {\n    alert(\"Відсутні обов'язкові поля\");\n  } else {\n    console.log({ email, message });\n    refs.form.reset();\n    localStorage.removeItem('feedback-form-state');\n  }\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","inputEmail","inputMessage","addEventListener","throttle","event","target","name","$b00c40859be242c5$var$userData","email","value","message","$fp82k","saveStorage","preventDefault","alert","console","log","reset","localStorage","removeItem","window","loadStorage","ref"],"version":3,"file":"03-feedback.f1f29ddd.js.map"}